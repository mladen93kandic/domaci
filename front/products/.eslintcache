[{"C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\index.js":"1","C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\reportWebVitals.js":"2","C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\App.js":"3","C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\components\\Login.js":"4","C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\components\\Signup.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"7"},{"size":510,"mtime":1611083116513,"results":"9","hashOfConfig":"7"},{"size":3713,"mtime":1611091975884,"results":"10","hashOfConfig":"7"},{"size":6405,"mtime":1611092173785,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1q2j7nn",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\index.js",[],["25","26"],"C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\reportWebVitals.js",[],"C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\App.js",[],"C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\components\\Login.js",["27"],"import React from \"react\";\r\nimport \"../../src/App.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nvar passwordHash = require(\"password-hash\");\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    error: null,\r\n  };\r\n\r\n  onInputChange = (event) => {\r\n    if (event.target.type === \"password\") {\r\n      let pass = document.getElementById(\"pass\").value;\r\n      let hashedPassword = passwordHash.generate(pass);\r\n      this.setState({\r\n        password: hashedPassword,\r\n      });\r\n      console.log(pass);\r\n      console.log(this.state.password);\r\n    }\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:3001/login\", {\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.error) {\r\n          this.setState({\r\n            error:\r\n              \"Unijeli ste pogrešan pasvord ili korisnicko ime. Molimo Vas probajte ponovo ili se registrujte ukoliko nemate profil.\",\r\n          });\r\n        } else {\r\n        }\r\n      })\r\n      .catch((err) =>\r\n        this.setState({\r\n          username: \"\",\r\n          password: \"\",\r\n          email: \"\",\r\n          error: \"Došlo je do greške. Molimo Vas da pokušate ponovo.\",\r\n        })\r\n      );\r\n  };\r\n  renderError() {\r\n    if (this.state.error) {\r\n      return <h1>{this.state.error}</h1>;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"wrap wrap-login\">\r\n          <form\r\n            autoComplete=\"off\"\r\n            className=\"form\"\r\n            onSubmit={this.onFormSubmit}\r\n          >\r\n            <span className=\"logo\">\r\n              <img\r\n                src=\"https://cdn.icon-icons.com/icons2/1378/PNG/512/avatardefault_92824.png\"\r\n                alt=\"slika\"\r\n              />\r\n            </span>\r\n            <span className=\"header\"> Log in </span>\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  id=\"user\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.username}\r\n                />\r\n                <i className=\"users icon\"></i>\r\n              </div>\r\n            </div>\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"pass\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.password}\r\n                />\r\n                <i className=\"key icon\"></i>\r\n              </div>\r\n            </div>\r\n            <div className=\"container-btn\">\r\n              <button className=\"ui button\"> Login </button>{\" \"}\r\n            </div>{\" \"}\r\n            <div>\r\n              <span className=\"headerbottom\"> You don 't have account?</span>{\" \"}\r\n            </div>{\" \"}\r\n            <div className=\"container-btn\">\r\n              <Link to=\"/signup\" className=\"ui button\">\r\n                Signup{\" \"}\r\n              </Link>{\" \"}\r\n            </div>{\" \"}\r\n          </form>{\" \"}\r\n          {this.renderError()}\r\n        </div>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\Kandici\\Desktop\\API Products Domaci 2\\front\\products\\src\\components\\Signup.js",["28"],"import React from \"react\";\r\nimport \"../../src/App.css\";\r\nimport axios from \"axios\";\r\nvar passwordHash = require(\"password-hash\");\r\n\r\nclass Signup extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    role: 0,\r\n    error: \"\",\r\n  };\r\n  hasNumber = (myString) => {\r\n    return /\\d/.test(myString);\r\n  };\r\n\r\n  onInputChange = (event) => {\r\n    if (event.target.type === \"password\") {\r\n      let pass = document.getElementById(\"pass\").value;\r\n      let hashedPassword = passwordHash.generate(pass);\r\n      this.setState({\r\n        password: hashedPassword,\r\n      });\r\n      console.log(pass);\r\n      console.log(this.state.password);\r\n    } else {\r\n      this.setState({\r\n        [event.target.name]: event.target.value,\r\n      });\r\n    }\r\n  };\r\n  validateEmail = (email) => {\r\n    let re = /\\S+@\\S+\\.\\S+/;\r\n    return re.test(email);\r\n  };\r\n  hasLowerCase = (str) => {\r\n    return /[a-z]/.test(str);\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    let checkMail = this.validateEmail(this.state.email);\r\n    let psw = document.getElementById(\"pass\").value;\r\n    let brVelikihSlova = 0;\r\n    for (let i = 0; i < psw.length; i++) {\r\n      if (psw[i] === psw[i].toUpperCase()) {\r\n        if (psw[i] >= 0 || psw[i] <= 9) {\r\n        } else {\r\n          brVelikihSlova++;\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      this.state.username === \"\" ||\r\n      this.state.password === \"\" ||\r\n      this.state.email === \"\" ||\r\n      this.state.role === \"\" ||\r\n      typeof this.state.username === \"undefined\" ||\r\n      typeof this.state.password === \"undefined\" ||\r\n      typeof this.state.email === \"undefined\" ||\r\n      typeof this.state.role === \"undefined\"\r\n    ) {\r\n      this.setState({\r\n        error: \"Morate popuniti sva polja\",\r\n      });\r\n    } else if (\r\n      this.state.username.length < 3 ||\r\n      this.state.username.length > 20\r\n    ) {\r\n      this.setState({\r\n        error: \"Username mora sadržati najmanje 3, a najviše 20 karaktera\",\r\n      });\r\n    } else if (this.hasLowerCase(psw) === false) {\r\n      this.setState({\r\n        error: \"Password mora sadržati bar jedno malo slovo\",\r\n      });\r\n    } else if (this.hasNumber(psw) === false) {\r\n      this.setState({\r\n        error: \"Password mora sadržati bar jednu cifru\",\r\n      });\r\n    } else if (brVelikihSlova === 0) {\r\n      this.setState({\r\n        error: \"Password mora sadržati bar jedno veliko slovo\",\r\n      });\r\n    } else if (psw.length < 5 || psw.length > 25) {\r\n      console.log(psw);\r\n      this.setState({\r\n        error: \"Password mora sadržati najmanje 5, a najviše 25 karaktera\",\r\n      });\r\n    } else if (checkMail === false) {\r\n      this.setState({\r\n        error: \"Morate unijeti ispravan email\",\r\n      });\r\n    } else if (this.state.email.length < 5 || this.state.username.length > 35) {\r\n      this.setState({\r\n        error: \"Email mora sadržati najmanje 5, a najviše 35 karaktera\",\r\n      });\r\n    } else {\r\n      console.log(this.state);\r\n\r\n      axios\r\n        .post(\"http://localhost:3001/signup\", {\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n          email: this.state.email,\r\n          role: this.state.role,\r\n        })\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.props.history.push(\"/login\");\r\n        })\r\n        .catch((err) =>\r\n          this.setState({\r\n            error: \"Došlo je do greške. Molimo Vas da pokušate ponovo.\",\r\n          })\r\n        );\r\n    }\r\n  };\r\n\r\n  renderError() {\r\n    if (this.state.error) {\r\n      return <h1 className=\"red\"> {this.state.error} </h1>;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"wrap wrap-login\">\r\n          <form\r\n            className=\"form\"\r\n            onSubmit={this.onFormSubmit}\r\n            autoComplete=\"off\"\r\n          >\r\n            <span className=\"logo\">\r\n              <img\r\n                src=\"https://cdn.icon-icons.com/icons2/1378/PNG/512/avatardefault_92824.png\"\r\n                alt=\"slika\"\r\n              />\r\n            </span>{\" \"}\r\n            <span className=\"header\"> Sign up </span>{\" \"}\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  id=\"user\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.username}\r\n                />{\" \"}\r\n                <i className=\"users icon\"> </i>{\" \"}\r\n              </div>{\" \"}\r\n            </div>{\" \"}\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"pass\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  onChange={this.onInputChange}\r\n                />{\" \"}\r\n                <i className=\"key icon\"> </i>{\" \"}\r\n              </div>{\" \"}\r\n            </div>\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <input\r\n                  className=\"input-login\"\r\n                  id=\"mail\"\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Email\"\r\n                  onChange={this.onInputChange}\r\n                  value={this.state.email}\r\n                />\r\n                <i className=\"mail icon\"></i>\r\n              </div>{\" \"}\r\n            </div>{\" \"}\r\n            <div className=\"centralize\" style={{ margin: \"1%\" }}>\r\n              <div className=\"ui left icon input login-width\">\r\n                <select onChange={this.onInputChange} name=\"role\">\r\n                  <option value=\"0\">Basic user</option>\r\n                  <option value=\"1\">Admin</option>\r\n                </select>\r\n              </div>{\" \"}\r\n            </div>{\" \"}\r\n            <div className=\"container-btn\">\r\n              <button className=\"ui button\"> Signup </button>{\" \"}\r\n            </div>{\" \"}\r\n          </form>{\" \"}\r\n          {this.renderError()}{\" \"}\r\n        </div>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;\r\n",{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","severity":1,"message":"34","line":83,"column":19,"nodeType":"35","endLine":83,"endColumn":41},{"ruleId":"33","severity":1,"message":"34","line":149,"column":19,"nodeType":"35","endLine":149,"endColumn":41},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation"]